{"changed":true,"filter":false,"title":"Desktop.js","tooltip":"/5 - pwd/javascript/Desktop.js","value":"\n       \n       function SetUpImages(){\n              var wt = document.querySelectorAll(\".windowtop\");\n            var wtText = document.createElement(\"p\");\n        wtText.innerHTML = \"Galleri\";\n        \n        wt[variables.o].appendChild(wtText);\n            loadCloseButton(variables.o);\n                      \n        //   var o = document.querySelectorAll(\".windowcenter\").length;\n        \n        console.log(wt);\n       \n        //   variables.o++ \n        variables.xhr.onreadystatechange = function(){\n            console.log(variables.o);\n         var imgArray;  \n         var load = document.querySelectorAll(\".hidden\");\n         var load2 = document.querySelectorAll(\".load\");\n         var load3 = document.querySelectorAll(\".loadtext\");\n         \n            //  load[o].classList.add(\"show\");\n\n                if(variables.xhr.readyState === 4 && variables.xhr.status !== 400){\n                      console.log(load[variables.o]);\n                    load[variables.o].classList.add(\"hidden\")\n                    load2[variables.o].classList.add(\"hidden\")\n                    load3[variables.o].classList.add(\"hidden\")\n                     \n                   imgArray = JSON.parse(variables.xhr.responseText);\n                //   console.log(imgArray);\n                  \n                    var windowCenter = document.querySelectorAll(\".windowcenter\");\n                    console.log(windowCenter[variables.o]);\n                   \n                    for(var i = 0; i < imgArray.length; i++){\n                        var tumbHolder = document.createElement(\"div\");\n                        tumbHolder.setAttribute(\"class\",\"tumbholder\")\n                        \n                        var tumb = document.createElement(\"img\");\n                        var a = document.createElement(\"a\");\n                        a.setAttribute(\"href\",\"#\")\n                        a.setAttribute(\"class\",\"atag\")\n                        \n                        windowCenter[variables.o].appendChild(a);\n                       \n                        a.appendChild(tumbHolder);\n                        tumb.setAttribute(\"class\",\"\"+i+\"\")\n                          tumb.setAttribute(\"class\",\"tumb\")\n                        tumb.setAttribute(\"src\",\"\"+imgArray[i].thumbURL+\"\")\n                       \n                        tumbHolder.appendChild(tumb);\n                        var maxWidth = 75;\n                        var maxHeight = 50;\n                \n                        if(imgArray[i].thumbWidth > maxWidth){\n                            maxWidth = imgArray[i].thumbWidth;\n                            \n                             }\n                        \n                        if(imgArray[i].thumbHeight > maxHeight){\n                            maxHeight = imgArray[i].thumbHeight;\n                            // console.log(maxHeight);\n                             }\n                       \n                    tumbHolder.style.height = \"\"+maxHeight+\"px\";\n                    tumbHolder.style.width = \"\"+maxWidth+\"px\";\n                    //  console.log(imgArray[i].URL);\n              \n              setBackground(tumbHolder, imgArray[i].URL);\n             \n                    }\n                        console.log(variables.o);\n                       \n                        tumbHolder.appendChild(tumb);\n                        // var atagArray = document.querySelector(\".atag\");\n                        //  for(var k = 0; k < imgArray.length; k++){\n                        // atagArray[k].onclick =presser(imgArray[k]);\n                    // }\n                        \n                       \n                }\n                // console.log(windowCenter);\n                 \n            };\n           variables.xhr.open('GET','http://homepage.lnu.se/staff/tstjo/labbyServer/imgviewer/', true); \n        variables.xhr.send(null);\n            \n        // var wName = document.getElementsByClassName(\"windowname\") \n        // for(var n = 0; n< wName.length; n++){\n        //   wName[n].innerHTML(\"Pics\")  \n        // };\n            \n            \n    };\n     function setBackground (tumbHolder, url){\n        //  console.log(tumbHolder);\n            tumbHolder.addEventListener(\"click\", function(){\n                 var body = document.getElementById(\"dabody\");\n                //  console.log(body);\n                  body.style.backgroundImage = 'url('+url+')';\n            })\n         \n     };\n     \n","undoManager":{"mark":2,"position":3,"stack":[[{"group":"doc","deltas":[{"start":{"row":144,"column":8},"end":{"row":146,"column":15},"action":"remove","lines":["var closebA = document.createElement(\"a\")","        var closebImg = document.createElement(\"img\")","        closebA"]}]}],[{"group":"doc","deltas":[{"start":{"row":141,"column":5},"end":{"row":161,"column":7},"action":"remove","lines":["function loadCloseButton(windowNumber){","        var allTheWindows = document.querySelectorAll(\".window\");","        var theWindowThatsAboutToBeClosed = allTheWindows[windowNumber];","        ","         var closeButton = document.querySelectorAll(\".closeb\");","        //  console.log(closeButton);","         closeButton[windowNumber].addEventListener(\"click\", function(theWindowThatsAboutToBeClosed){","            //  console.log(theWindowThatsAboutToBeClosed);","             allTheWindows[windowNumber].style.display = 'none';","             variables.marginTop - 30;","             ","         });","     };","     ","     function fokusWindow(thisWIndow){","         ","         thisWIndow.addEventListener(\"click\", function(){","             var higherZindex = variables.zindexNumber += 1;","             thisWIndow.style.zIndex = \"\"+ higherZindex+\"\";","         });","     };"]}]}],[{"group":"doc","deltas":[{"start":{"row":141,"column":0},"end":{"row":151,"column":10},"action":"remove","lines":["     ","    //  presser: function(imgA){","        ","    //         var body = document.getElementsByTagName('body')[0];","    //             body.style.backgroundImage = \"url(\"+imgA.URL+\")\";","            ","        ","                ","           ","    //     },","    //  };"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":35,"column":9},"action":"remove","lines":["// var theWindow = {","//   var variables = {  ","//       xhr: new XMLHttpRequest(),","//   o: -1,","//     //   o: document.querySelectorAll(\".windowcenter\").length,","//         // console.log(o),","//     // o: variables.k.length,","//         // console.log(o)","//       zindexNumber: 0,","//       marginTop: 30,","//   };","    //  function Window(func){","    //       variables.o++;","    //       console.log(variables.o);","    //     var template = document.querySelector(\"#template\");","    //     var windowTemplate = template.content.querySelector(\".window\");","    //     var w = windowTemplate.cloneNode(true);","    //     // var wt = document.querySelectorAll(\".windowtop\");","    //     // console.log(wt);","    //     // wt.innerHTML(name);","    //     document.querySelector('#wrapper').appendChild(","    //     w);","       ","    //     func();","        ","    //     var ThisWindow = document.querySelectorAll(\".window\");","    //     // var o = document.querySelectorAll(\".windowcenter\").length;","    //     console.log(ThisWindow[variables.o]);","    //  console.log(variables.o);","    //     ThisWindow[variables.o].style.zIndex = \"\"+variables.zindexNumber+\"\";","    //     ThisWindow[variables.o].style.marginTop = \"\"+variables.marginTop+\"px\"","    //     fokusWindow(ThisWindow[variables.o]);","    //     variables.zindexNumber++;","    //     variables.marginTop += 30;","     ","    // };"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421008871212}