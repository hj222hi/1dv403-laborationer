{"changed":true,"filter":false,"title":"script.js","tooltip":"/4-thequiz/javascript/script.js","value":"\n\"use strict\"; //objekt.metod/egenskap(argument)\n\nvar Quiz = {\n    nrOfTriesArray: [],\n    quizObj: undefined,\n    xhr: new XMLHttpRequest(), // skapar requestObjekt\n    countTries: undefined,\n    counter: 0, // antal klick\n    init: function(e) { \n        \n        Quiz.question('http://vhost3.lnu.se:20080/question/1');\t\n        \t\n        \t\tif(!e){ e = window.event; }\n\n\t\t\tif(e.keyCode == 13 && !e.shiftKey){\n\t\t\t\te.preventDefault();\n\t\t\t\tQuiz.messageText();\t\t\t\n\t\t}\n    },\n        \n        \n                question: function(url) { \n            var pTag = document.getElementById(\"question\");\n               Quiz.countTries = document.getElementById(\"countTries\");\n            \n            Quiz.xhr.onreadystatechange = function(){\n                if(Quiz.xhr.readyState === 4 && Quiz.xhr.status === 200){\n                   Quiz.quizObj = JSON.parse(Quiz.xhr.responseText);\n                    console.log(Quiz.quizObj.question);\n                    pTag.innerHTML = Quiz.quizObj.question; // skriver ut frågan\n               \n                    Quiz.click();\n                }\n            };\n            // nästa gång den körs vill jag att den ska köra url\n            Quiz.xhr.open('GET', url, true); // måste köra en open för att konfiguera. Alltså Open(\"GET\", \"vad vill vi anropa?\")\n            Quiz.xhr.send(null);\n        },\n        \n        answer: function(url){\n          var messbox = document.getElementById(\"messageText\");\n        \n              \n              \n              Quiz.xhr.open('POST', url, true);\n              Quiz.xhr.setRequestHeader('Content-Type', 'application/json');\n              Quiz.xhr.send(JSON.stringify(quizanswer));\n        },\n        \n         click: function(){  \n            document.getElementById(\"button\").onclick = function(e){ // hämtar ut knappen och kopplar en eventhanterare\n              Quiz.counter++;\n              \n            Quiz.answer(Quiz.quizObj.nextURL);\n        };\n        },\n             \n            \n        }\n       \n    \n\n//När sidan har laddads in så anropas init.\nwindow.onload = Quiz.init;\n\n\n\n\n\n\n","undoManager":{"mark":94,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":40,"column":12},"end":{"row":40,"column":13},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":11},"end":{"row":40,"column":12},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":11},"end":{"row":40,"column":12},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":12},"end":{"row":40,"column":13},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":13},"end":{"row":40,"column":14},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":9},"end":{"row":39,"column":10},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":9},"end":{"row":39,"column":10},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":15},"end":{"row":40,"column":16},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":16},"end":{"row":40,"column":17},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":17},"end":{"row":40,"column":18},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":16},"end":{"row":40,"column":18},"action":"remove","lines":["fu"]},{"start":{"row":40,"column":16},"end":{"row":40,"column":24},"action":"insert","lines":["function"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":24},"end":{"row":40,"column":26},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":25},"end":{"row":40,"column":26},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":26},"end":{"row":40,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":27},"end":{"row":40,"column":28},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":29},"end":{"row":40,"column":30},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":30},"end":{"row":40,"column":31},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":30},"end":{"row":42,"column":8},"action":"insert","lines":["","            ","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":12},"end":{"row":42,"column":0},"action":"insert","lines":["",""]},{"start":{"row":42,"column":0},"end":{"row":42,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":12},"end":{"row":41,"column":59},"action":"insert","lines":["var pTag = document.getElementById(\"question\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":16},"end":{"row":41,"column":20},"action":"remove","lines":["pTag"]},{"start":{"row":41,"column":16},"end":{"row":41,"column":17},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":17},"end":{"row":41,"column":18},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":18},"end":{"row":41,"column":19},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":19},"end":{"row":41,"column":20},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":20},"end":{"row":41,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":21},"end":{"row":41,"column":22},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":22},"end":{"row":41,"column":23},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":23},"end":{"row":41,"column":24},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":24},"end":{"row":41,"column":25},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":53},"end":{"row":41,"column":61},"action":"remove","lines":["question"]},{"start":{"row":41,"column":53},"end":{"row":41,"column":64},"action":"insert","lines":["messageText"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":8},"end":{"row":53,"column":0},"action":"remove","lines":["answer: function(url){","            var answerbox = document.getElementById(\"messageText\");","            ","        }","       ","    ","","//När sidan har laddads in så anropas init.","window.onload = Quiz.init;","","","","",""]},{"start":{"row":40,"column":8},"end":{"row":77,"column":0},"action":"insert","lines":["answer: function(url){","           var pTag = document.getElementById(\"question\");","               Quiz.countTries = document.getElementById(\"countTries\");","            Quiz.xhr.onreadystatechange = function(){","                if(Quiz.xhr.readyState === 4 && Quiz.xhr.status === 200){","                   Quiz.quizObj = JSON.parse(Quiz.xhr.responseText);","                    console.log(Quiz.quizObj.question);","                    pTag.innerHTML = Quiz.quizObj.question; // skriver ut frågan","                    ","                   Quiz.click();","","                   pTag.innerHTML = Quiz.quizObj.question;","                }","            };","            // nästa gång den körs vill jag att den ska köra url","            Quiz.xhr.open('GET', url, true); // måste köra en open för att konfiguera. Alltså Open(\"GET\", \"vad vill vi anropa?\")","            Quiz.xhr.send(null);","        },","         click: function(){  ","            document.getElementById(\"button\").onclick = function(e){ // hämtar ut knappen och kopplar en eventhanterare","              Quiz.counter++;","              ","            Quiz.answer(Quiz.quizObj.nextURL);","        };","        },","             ","            ","        }","       ","    ","","//När sidan har laddads in så anropas init.","window.onload = Quiz.init;","","","","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":10},"end":{"row":38,"column":11},"action":"insert","lines":["}"]},{"start":{"row":38,"column":0},"end":{"row":38,"column":10},"action":"remove","lines":["          "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":0},"end":{"row":38,"column":1},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":8},"end":{"row":41,"column":0},"action":"insert","lines":["",""]},{"start":{"row":41,"column":0},"end":{"row":41,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":8},"end":{"row":39,"column":10},"action":"remove","lines":["question: function(url) { ","            var pTag = document.getElementById(\"question\");","               Quiz.countTries = document.getElementById(\"countTries\");","            Quiz.xhr.onreadystatechange = function(){","                if(Quiz.xhr.readyState === 4 && Quiz.xhr.status === 200){","                   Quiz.quizObj = JSON.parse(Quiz.xhr.responseText);","                    console.log(Quiz.quizObj.question);","                    pTag.innerHTML = Quiz.quizObj.question; // skriver ut frågan","               ","                   // Quiz.click();","                }","            };","            // nästa gång den körs vill jag att den ska köra url","            Quiz.xhr.open('GET', url, true); // måste köra en open för att konfiguera. Alltså Open(\"GET\", \"vad vill vi anropa?\")","            Quiz.xhr.send(null);","        }","  ","        },"]},{"start":{"row":22,"column":8},"end":{"row":40,"column":10},"action":"insert","lines":["        question: function(url) { ","            var pTag = document.getElementById(\"question\");","               Quiz.countTries = document.getElementById(\"countTries\");","            // Koppla en händelsehanterare på vad som ska hända när vi får ett svar","            // onreadeystaychange = en händelsehanterare. Vi kopplar den till en funktion. Det som står i det blocket är det som","            // ska köras när vi får ett svar.","            Quiz.xhr.onreadystatechange = function(){","                if(Quiz.xhr.readyState === 4 && Quiz.xhr.status === 200){","                   Quiz.quizObj = JSON.parse(Quiz.xhr.responseText);","                    console.log(Quiz.quizObj.question);","                    pTag.innerHTML = Quiz.quizObj.question; // skriver ut frågan","               ","                    Quiz.click();","                }","            };","            // nästa gång den körs vill jag att den ska köra url","            Quiz.xhr.open('GET', url, true); // måste köra en open för att konfiguera. Alltså Open(\"GET\", \"vad vill vi anropa?\")","            Quiz.xhr.send(null);","        },"]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":12},"end":{"row":27,"column":45},"action":"remove","lines":["// Koppla en händelsehanterare på vad som ska hända när vi får ett svar","            // onreadeystaychange = en händelsehanterare. Vi kopplar den till en funktion. Det som står i det blocket är det som","            // ska köras när vi får ett svar."]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":10},"end":{"row":56,"column":32},"action":"remove","lines":[" var pTag = document.getElementById(\"question\");","               Quiz.countTries = document.getElementById(\"countTries\");","            Quiz.xhr.onreadystatechange = function(){","                if(Quiz.xhr.readyState === 4 && Quiz.xhr.status === 200){","                   Quiz.quizObj = JSON.parse(Quiz.xhr.responseText);","                    console.log(Quiz.quizObj.question);","                    pTag.innerHTML = Quiz.quizObj.question; // skriver ut frågan","                    ","                   Quiz.click();","","                   pTag.innerHTML = Quiz.quizObj.question;","                }","            };","            // nästa gång den körs vill jag att den ska köra url","            Quiz.xhr.open('GET', url, true); // måste köra en open för att konfiguera. Alltså Open(\"GET\", \"vad vill vi anropa?\")","            Quiz.xhr.send(null);"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":12},"end":{"row":41,"column":13},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":13},"end":{"row":41,"column":14},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":13},"end":{"row":41,"column":14},"action":"remove","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":12},"end":{"row":41,"column":13},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":12},"end":{"row":41,"column":13},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":13},"end":{"row":41,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":14},"end":{"row":41,"column":15},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":15},"end":{"row":41,"column":16},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":16},"end":{"row":41,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":17},"end":{"row":41,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":18},"end":{"row":41,"column":19},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":19},"end":{"row":41,"column":20},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":20},"end":{"row":41,"column":21},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":21},"end":{"row":41,"column":22},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":22},"end":{"row":41,"column":23},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":23},"end":{"row":41,"column":24},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":23},"end":{"row":41,"column":24},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":22},"end":{"row":41,"column":23},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":22},"end":{"row":41,"column":23},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":23},"end":{"row":41,"column":24},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":24},"end":{"row":41,"column":25},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":25},"end":{"row":41,"column":26},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":26},"end":{"row":41,"column":27},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":27},"end":{"row":41,"column":28},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":24},"end":{"row":41,"column":28},"action":"remove","lines":["docu"]},{"start":{"row":41,"column":24},"end":{"row":41,"column":32},"action":"insert","lines":["document"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":32},"end":{"row":41,"column":33},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":33},"end":{"row":41,"column":34},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":34},"end":{"row":41,"column":35},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":35},"end":{"row":41,"column":36},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":33},"end":{"row":41,"column":36},"action":"remove","lines":["get"]},{"start":{"row":41,"column":33},"end":{"row":41,"column":49},"action":"insert","lines":["getElementById()"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":48},"end":{"row":41,"column":50},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":49},"end":{"row":41,"column":50},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":50},"end":{"row":41,"column":51},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":51},"end":{"row":41,"column":52},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":52},"end":{"row":41,"column":53},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":53},"end":{"row":41,"column":54},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":54},"end":{"row":41,"column":55},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":55},"end":{"row":41,"column":56},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":56},"end":{"row":41,"column":57},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":57},"end":{"row":41,"column":58},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":58},"end":{"row":41,"column":59},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":59},"end":{"row":41,"column":60},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":49},"end":{"row":41,"column":60},"action":"remove","lines":["messagearea"]},{"start":{"row":41,"column":49},"end":{"row":41,"column":60},"action":"insert","lines":["messageText"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":62},"end":{"row":41,"column":63},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":10},"end":{"row":43,"column":0},"action":"insert","lines":["",""]},{"start":{"row":43,"column":0},"end":{"row":43,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":8},"end":{"row":44,"column":8},"action":"insert","lines":["","            ","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":12},"end":{"row":45,"column":56},"action":"insert","lines":["Quiz.xhr.open('POST', url, true);","              Quiz.xhr.setRequestHeader('Content-Type', 'application/json');","              Quiz.xhr.send(JSON.stringify(quizanswer));"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":12},"end":{"row":43,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":12},"end":{"row":43,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":14},"end":{"row":44,"column":0},"action":"insert","lines":["",""]},{"start":{"row":44,"column":0},"end":{"row":44,"column":14},"action":"insert","lines":["              "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":14},"end":{"row":45,"column":0},"action":"insert","lines":["",""]},{"start":{"row":45,"column":0},"end":{"row":45,"column":14},"action":"insert","lines":["              "]}]}]]},"ace":{"folds":[],"scrolltop":206,"scrollleft":0,"selection":{"start":{"row":45,"column":14},"end":{"row":45,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":13,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1418483389218}